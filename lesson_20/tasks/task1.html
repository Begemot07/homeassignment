<!DOCTYPE html>
<html lang="zxx">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/style.css">
    <title>Task 1</title>
  </head>

  <body>

    <div class="wrapper">
      <header class="header header--margin">

        <div class="header__container">
          <a href="../index.html" class="header__wrap-logo">
            <img class="header__logo" src="../img/logo.jpg" alt="Image">
          </a>
          <h1 class="header__title"> Window. BOM. DOM.</h1>

        </div>
      </header>

      <main class="page page--margin">

        <div class="page__container ">
          <h3 class="page__title-task">Задача 1</h3>
          <p class="page__text-task">
            Динамічний пошук. Є список працівників і поле пошуку. При введенні відображаються усі,
            які містять вказаний фрагмент
          </p>
          <p class="page__text-task page__text-task--blue">
            Розв'язок:
          </p>

          <div class="box">
            <label for="searchId">
              <input type="text" id="searchId" placeholder="Пошук...">
            </label>
            <ul class="list">
              <li class="list__item"><a href="#">Богдан Хмельницький</a></li>
              <li class="list__item"><a href="#">Іван Виговський</a></li>
              <li class="list__item"><a href="#">Павло Тетеря</a></li>
              <li class="list__item"><a href="#">Петро Дорошенко</a></li>
              <li class="list__item"><a href="#">Іван Мазепа</a></li>
              <li class="list__item"><a href="#">Пилип Орлик</a></li>
              <li class="list__item"><a href="#"> Кирило Розумовський</a></li>
              <li class="list__item"><a href="#">Павло Полуботок</a></li>
              <li class="list__item"><a href="#">Іван Скоропадський</a></li>
              <li class="list__item"><a href="#">Данило Апостол</a></li>
            </ul>
          </div>

          <script>

            class ListFilter {
              constructor(inputSelector, listSelector) {
                this.inputField = document.querySelector(inputSelector)
                this.list = document.querySelector(listSelector)
                this.listItems = this.list.children
                this.inputField.addEventListener('input', this.dynamicSearch.bind(this))
              }

              dynamicSearch() {
                let inputValue = this.inputField.value.toLowerCase()
                for (const li of this.listItems) {
                  let listItemText = li.innerText.toLowerCase()
                  if (!listItemText.includes(inputValue)) {
                    li.classList.add('hidden')
                  } else {
                    li.classList.remove('hidden')
                  }
                }
              }
            }
            function randomColor() {
              const red = Math.floor(Math.random() * 256);
              const green = Math.floor(Math.random() * 256);
              const blue = Math.floor(Math.random() * 256);
              const color = `rgb(${red}, ${green}, ${blue})`;
              return color;
            }

            class RandomColorHover {
              constructor(selector) {
                this.elements = document.querySelectorAll(selector)
                console.log(this.elements);
                this.addHover = this.addHovers()
              }
              addHovers() {
                let elements = this.elements
                for (const el of elements) {
                  el.addEventListener('mouseover', this.changeColorHover.bind(this))
                  el.addEventListener('mouseout', this.resetColor.bind(this))
                }
              }
              changeColorHover(e) {
                let hoverEl = e.target
                hoverEl.style.color = this.randomColor()
              }
              resetColor(e) {
                let hoverEl = e.target
                hoverEl.style.color = ''
              }
              randomColor() {
                const red = Math.floor(Math.random() * 256)
                const green = Math.floor(Math.random() * 256)
                const blue = Math.floor(Math.random() * 256)
                const color = `rgb(${red}, ${green}, ${blue})`
                return color;
              }
            }

            let r1 = new RandomColorHover('.list__item')
            let filter = new ListFilter('input', '.list');
          </script>

          <style>
            .box {
              border: 1px solid #ffffff45;
              padding: 20px;
            }

            label {
              margin-bottom: 25px;
              display: flex;
              justify-content: center;
            }

            .list {
              margin-bottom: 25px;
              color: #C0C0C0;
              min-height: 450px;
              display: flex;
              flex-direction: column;
              align-items: flex-start;
            }

            .list__item {
              margin-bottom: 25px;
              position: relative;
            }

            .list__item a::after {
              content: '';
              position: absolute;
              top: calc(100% + 2px);
              left: 50%;
              width: 0%;
              height: 2px;
              background-color: #FF0000;
              box-shadow: 0px 0px 7px 1px #FF0000;
              transition: all 0.3s;
            }

            .list__item a:hover::after {
              width: 100%;
              left: 0;
            }

            .list__item a {
              /* color: #fff; */
              transition: all 0.3s;
            }

            strong {
              color: #404040;
              font-size: 24px;
            }

            input {
              max-width: 250px;
              height: 45px;
              padding: 5px 7px;
              background-color: #404040;
              color: wheat;
              border-radius: 3px;
            }

            input:focus {
              box-shadow: 0px 0px 7px 3px #FF0000;
              outline: 1px solid #FF0000;
            }

            div {
              font-size: 20px;
              overflow: auto;
            }

            .page__text-task span {
              color: #FFFF00;
            }

            .hidden {
              display: none;
            }
          </style>
        </div>

      </main>

      <footer class="footer">
        <p class="footer__text">2124</p>
      </footer>
    </div>

  </body>

</html>